(module

  (; Initial Memory size 7FFE ;)
  (memory $memory 32766)
  (export "memory" (memory $memory))

  (func (export "size") (result i32) (memory.size))

  (func (export "load") (param $num i32) (result i32)
    (i32.load (i32.shl(local.get 0) (i32.const 3)))
  )

  (func (export "store") (param $offset i32) (param $value i32) 
    (i32.store (i32.shl (local.get 0) (i32.const 3)) (local.get 1))
  )

  (data (i32.const 0x1000) "\10\00\00\00")
)
